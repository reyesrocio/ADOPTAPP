<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Admin Mascotas</title>
<style>
body{font-family:Arial;padding:30px;background:#f2f2f2}
input,button{padding:8px;margin:5px}
button{cursor:pointer}
</style>
</head>

<body>

<script>
if(localStorage.getItem("adminLogueado")!=="true"){
  window.location.href="admin.html";
}
</script>

<h1>ğŸ¾ Administrar Mascotas</h1>

<h3>Agregar mascota</h3>
<input id="nombre" placeholder="Nombre">
<input id="tipo" placeholder="Tipo">
<button onclick="agregar()">Agregar</button>

<h3>Lista</h3>
<div id="lista"></div>

<script>
let mascotas = JSON.parse(localStorage.getItem("mascotasDB")) || [];

function guardar(){
  localStorage.setItem("mascotasDB", JSON.stringify(mascotas));
  mostrar();
}

function agregar(){
  mascotas.push({
    id:Date.now(),
    nombre:nombre.value,
    tipo:tipo.value,
    disponible:true
  });
  nombre.value="";
  tipo.value="";
  guardar();
}

function eliminar(id){
  mascotas = mascotas.filter(m=>m.id!==id);
  guardar();
}

function editar(id){
  let m = mascotas.find(x=>x.id===id);
  let nuevo = prompt("Nuevo nombre", m.nombre);
  if(nuevo){
    m.nombre = nuevo;
    guardar();
  }
}

function mostrar(){
  lista.innerHTML="";
  mascotas.forEach(m=>{
    lista.innerHTML+=`
      <p>
      ${m.nombre} (${m.tipo})
      <button onclick="editar(${m.id})">Editar</button>
      <button onclick="eliminar(${m.id})">Eliminar</button>
      </p>
    `;
  });
}
mostrar();
</script>

<br>
<a href="admin-panel.html">â¬… Volver</a>

</body>
</html>
